function RenderInfo(){let data=GetDatePeriod();$("#entryPeriod").text(data[0]),$("#resultsPeriod").text(data[1]),$("#countdown").countdown(data[2],(function(event){$(this).text(data[3]+event.strftime("%D days %H:%M:%S")),event.elapsed&&$(this).text("Error (Wrong cycle in settings)")}))}function GetDatePeriod(){let currentDate=new Date,dateAnchor=new Date("October 8, 2022, 15:00:00 GMT+0000"),currentCycle=Math.floor(dateDiff(currentDate,dateAnchor)/9);dateAnchor.setUTCDate(dateAnchor.getUTCDate()+9*currentCycle);let dateStart=new Date(dateAnchor.toUTCString()),dateEntry=new Date(dateAnchor.toUTCString()),dateResults=new Date(dateAnchor.toUTCString());dateStart.setUTCHours(15),dateEntry.setUTCDate(dateStart.getUTCDate()+5),dateEntry.setUTCHours(15),dateResults.setUTCDate(dateStart.getUTCDate()+9),dateResults.setUTCHours(15);let strDateStart=formatDateNew(dateStart),strDateEntry=formatDateNew(dateEntry),strDateResults=formatDateNew(dateResults),countdown=0,countdownPeriod="Entry";return currentDate.getTime()>dateStart.getTime()&&currentDate.getTime()<dateEntry.getTime()&&(countdown=formatDateOld(dateEntry),countdownPeriod="Entry period ends in "),currentDate.getTime()>dateEntry.getTime()&&currentDate.getTime()<dateResults.getTime()&&(countdown=formatDateOld(dateResults),countdownPeriod="Results period ends in "),[strDateStart+" ➜ "+strDateEntry,strDateEntry+" ➜ "+strDateResults,countdown,countdownPeriod]}function formatDateOld(date){return date.toLocaleString("en",{hour12:!0})}function formatDateNew(date){return JSON.parse(localStorage.getItem("timeZonePrefered"))?date.toLocaleString("en",{month:"long",timeZone:"UTC"})+" "+date.getUTCDate()+", "+date.getUTCFullYear()+", "+date.toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZoneName:"shortGeneric",timeZone:"UTC"}):date.toLocaleString("en",{month:"long"})+" "+date.getDate()+", "+date.getFullYear()+", "+date.toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZoneName:"short"})}function dateDiffInDays(a,b){const utc1=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()),utc2=Date.UTC(b.getFullYear(),b.getMonth(),b.getDate());return Math.floor((utc1-utc2)/864e5)}function dateDiff(a,b){const utc1=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds()),utc2=Date.UTC(b.getFullYear(),b.getMonth(),b.getDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds());return Math.floor((utc1-utc2)/864e5)}$(document).ready((function(){$("#timeZoneCheckbox").prop("checked",JSON.parse(localStorage.getItem("timeZonePrefered"))),RenderInfo(),$("#timeZoneCheckbox").on("change",(function(){localStorage.setItem("timeZonePrefered",this.checked),RenderInfo()}))}));